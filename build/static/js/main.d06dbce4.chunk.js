(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),u=t.n(c),o=t(14),l=t(2),i=function(e){var n=e.contact,t=e.removeContact;return r.a.createElement("div",null,n.name," ",n.number,r.a.createElement("button",{onClick:function(){return t(n)}},"delete"))},m=function(e){var n=e.contacts,t=e.removeContact,a=n.map(function(e){return r.a.createElement(i,{key:e.name,contact:e,removeContact:t})});return r.a.createElement("div",null,a)},d=function(e){var n=e.newName,t=e.handleNewName,a=e.newNumber,c=e.handleNewNumber,u=e.addPerson;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:u},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:t})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},f=function(e){var n=e.filterName,t=e.handleFilterName;return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:n,onChange:t}))},s=function(e){var n=e.message,t=e.classType;return null===n?null:r.a.createElement("div",{className:t},n)},v=t(3),b=t.n(v),h="/api/persons",w=function(){return b.a.get(h).then(function(e){return e.data})},E=function(e){return b.a.post(h,e).then(function(e){return e.data})},p=function(e,n){return b.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},N=function(e){return b.a.delete("".concat(h,"/").concat(e)).then(function(e){return e})},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),i=Object(l.a)(u,2),v=i[0],b=i[1],h=Object(a.useState)(""),j=Object(l.a)(h,2),C=j[0],O=j[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),L=y[0],S=y[1],k=Object(a.useState)(t),T=Object(l.a)(k,2),D=T[0],P=T[1],F=Object(a.useState)(null),I=Object(l.a)(F,2),J=I[0],x=I[1],A=Object(a.useState)(null),B=Object(l.a)(A,2),U=B[0],q=B[1];Object(a.useEffect)(function(){w().then(function(e){c(e),P(e)})},[]);var z=function(e){x(e),setTimeout(function(){x(null)},3e3)},G=function(e){q(e),setTimeout(function(){q(null)},3e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(s,{message:U,classType:"error"}),r.a.createElement(s,{message:J,classType:"success"}),r.a.createElement(f,{filterName:L,handleFilterName:function(e){S(e.target.value),""===e.target.value?P(t):P(D.filter(function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}))}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(d,{newName:v,handleNewName:function(e){b(e.target.value)},newNumber:C,handleNewNumber:function(e){O(e.target.value)},addPerson:function(e){e.preventDefault();var n=t.filter(function(e){return e.name.toLowerCase()===v.toLowerCase()});if(1===n.length){var a=n[0];window.confirm("".concat(a.name," is already added to phonebook, replace the old number with a new one?"))&&p(a.id,Object(o.a)({},a,{number:C})).then(function(e){c(t.map(function(n){return n.id!==a.id?n:e})),P(D.map(function(n){return n.id!==a.id?n:e})),b(""),O(""),z("Updated ".concat(a.name,"'s number"))}).catch(function(e){console.log(e);var n=t.filter(function(e){return e.id!==a.id});c(n),P(n.filter(function(e){return e.name.toLowerCase().includes(L.toLowerCase())})),G("Information of ".concat(a.name," has already been removed from server"))})}else{var r={name:v,number:C};E(r).then(function(e){var n=t.concat(e);c(n),P(n),b(""),O(""),z("Added ".concat(r.name))}).catch(function(e){G(e.response.data.error)})}}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{contacts:D,removeContact:function(e){window.confirm("Delete ".concat(e.name," ?"))&&N(e.id).then(function(n){var a=t.filter(function(n){return n.id!==e.id});c(a),P(a.filter(function(e){return e.name.toLowerCase().includes(L.toLowerCase())})),G("Deleted ".concat(e.name))})}}))};t(38);u.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d06dbce4.chunk.js.map